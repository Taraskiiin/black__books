(this["webpackJsonpmy-shop"]=this["webpackJsonpmy-shop"]||[]).push([[0],{150:function(e,t,a){e.exports=a(306)},305:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setBooks",(function(){return f}));var r={};a.r(r),a.d(r,"setFilter",(function(){return F}));var c=a(0),i=a.n(c),l=a(22),o=a.n(l),u=a(32),s=a(18),m=a(128),d=a.n(m),b=a(16),p={isReady:!1,items:null,filterBy:"all",ids:[]},O=a(140),E={items:[]},h=Object(s.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(b.a)(Object(b.a)({},e),{},{items:t.payload,isReady:!0});case"SET_FILTER":return Object(b.a)(Object(b.a)({},e),{},{filterBy:t.payload,isReady:!0});case"SET_IS_READY":return Object(b.a)(Object(b.a)({},e),{},{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(O.a)(e.items),[t.payload])});case"REMOVE_BOOK":return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!=t.payload}))});default:return e}}}),f=function(e){return{type:"SET_BOOKS",payload:e}},y=a(52),j=a(53),v=a(59),k=a(58),B=a(129),g=a.n(B),C=a(314),I=function(e){Object(v.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return i.a.createElement(C.a,null,i.a.createElement(C.a.Item,{name:"browse",onClick:this.handleItemClick},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),i.a.createElement(C.a.Menu,{position:"right"},i.a.createElement(C.a.Item,{name:"signup",onClick:this.handleItemClick},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",i.a.createElement("b",null,"0")," \u0440\u0443\u0431."),i.a.createElement(C.a.Item,{name:"help",onClick:this.handleItemClick},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")))}}]),a}(c.Component),_=a(312),R=a(139),w=a(141),S=a(313),T=a(86),D=function(e){var t=e.title,a=e.author,n=e.price,r=e.image;return i.a.createElement(w.a,null,i.a.createElement(S.a,{src:r}),i.a.createElement(w.a.Content,null,i.a.createElement(w.a.Header,null,t),i.a.createElement(w.a.Meta,null,i.a.createElement("span",{className:"date"},a)),i.a.createElement(w.a.Description,null)),i.a.createElement(w.a.Content,{extra:!0},i.a.createElement("a",null,i.a.createElement(T.a,{name:"rub"}),n)))},F=function(e){return{type:"SET_FILTER",payload:e}},K=function(e){var t=e.setFilter,a=e.filterBy;return i.a.createElement("div",null,i.a.createElement(C.a,null,i.a.createElement(C.a.Item,{active:"all"===a,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),i.a.createElement(C.a.Item,{active:"price_hight"===a,onClick:t.bind(void 0,"price_hight")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),i.a.createElement(C.a.Item,{active:"price_low"===a,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)")," ",i.a.createElement(C.a.Item,{active:"author"===a,onClick:t.bind(void 0,"author")},"\u0410\u0432\u0442\u043e\u0440")))},M=Object(u.b)((function(e){return{filterBy:e.books.filterBy}}),(function(e){return Object(b.a)({},Object(s.b)(r,e))}))(K),x=function(e){Object(v.a)(a,e);var t=Object(k.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setBooks;g.a.get("/books.json").then((function(t){var a=t.data;e(a)}))}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.isReady;return i.a.createElement(_.a,null,i.a.createElement(I,null),i.a.createElement(M,null),i.a.createElement(R.a,{itemsPerRow:4},a?t.map((function(e,t){return i.a.createElement(D,Object.assign({key:t},e))})):"loading..."))}}]),a}(c.Component),A=a(60),J=function(e,t){switch(t){case"all":return e;case"price_hight":return Object(A.orderBy)(e,"price","desc");case"price_low":return Object(A.orderBy)(e,"price","asc");case"author":return Object(A.orderBy)(e,"author","asc");default:return e}},L=Object(u.b)((function(e){var t=e.books;return{books:J(t.items,t.filterBy),isReady:t.isReady}}),(function(e){return Object(b.a)({},Object(s.b)(n,e))}))(x),H=(a(304),a(305),Object(s.d)(h,Object(s.a)(d.a)));o.a.render(i.a.createElement(u.a,{store:H},i.a.createElement(L,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.f43784f4.chunk.js.map